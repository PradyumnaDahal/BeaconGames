<!DOCTYPE html>
<html>
    
    <head>
      <meta name="Pradyumna Dahal" content="Game"/> 
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
       
        </head> 
        <body onload="startGame()" style="background-color: lightgrey"> 
         
            <h1 style = "color: blue; text-align:center;"> Welcome To PD Games</h1>
         
            
    
           <canvas id = "Game" width="800" height="500" style="border:solid black 0px;margin:auto; display:block; background-color: white">
  
          
          
           </canvas>
         
            
<!--    -------------- Image collection -------------------       --> 
            
   <!--    -------------- Templet -------------------       -->     
<!--  <img id="id" src="link" alt="alt" height="0" width="0"> --> 

<img id="player" src="/images/player.png" alt="player" height="0" width="0" style="margin:0px 0px">
   
<img id="ground" src="/images/ground1.png"  alt="ground" height="0" width="0" style="margin:0px 0px">

<img id="ground2" src="/images/ground2.jpg"  alt="ground2" height="0" width="0" style="margin:0px 0px">
   
<img id="cloud" src="/images/cloud1.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px">
                 
<img id="play" src="/images/play.png".png  alt="play" height="0" width="0" style="margin:0px 0px">  
            
<img id="dropper" src="/images/dropper.png".png  alt="menu" height="0" width="0" style="margin:0px 0px">             
<img id="play2" src="/images/play2.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px">       

<img id="sl" src="/images/Sl.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px">  

<img id="sl2" src="/images/Sl2.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px"> 

<img id="menu" src="/images/menu.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px">  

<img id="menu2" src="/images/menu2.png".png  alt="cloud" height="0" width="0" style="margin:0px 0px">  
    
            
            
  <!--    -------------- Image collection End -------------------       -->           
            
            
            <script>
   
    //-----------------------------Var---------------
                
var c = document.getElementById("Game");
var ctx = c.getContext("2d");

var xPos = Game.width/2;
var yPos = 10;
var pWidth = 50;
var pHeight = 50;
var lock = 0;               
                
var keys =[];
                
var colUp;
var colDown;
var colLeft;
var colRight;

 
var startBox = Game.width;      
                
var enemy = [];
var enemyY = 0;
var enemyCount = [];
var enemyCol;             


var clickM;  
                
var endHeight = [];
var level = 98;

var death = 0;
var restart = false;                

var imageA = [];                
var rKey                
var status
var menuV;

                
var mouseX
var mouseY
var mouseClick = false;               
// w 87 s 83 d 68 a 65                

         
                
// ---------------------- Var End
                //------------------------Function

             function startGame() {
interval();
menuV = true;
};
                
    function interval() {
    
    
     setInterval(function(){ update(); }, 20);
};
                
  function player() { if(level < 90) { ctx.fillStyle = "green";
        ctx.drawImage(imageA[2], xPos, yPos, pWidth, pHeight)            
      
                     
     if (keys[32]){startBox=0;}; // Space bar remove start box
     if (keys[82]){restart = true}; // S
     if (keys[65] || keys[37]){xPos -= 10}; // A
     if (keys[68] || keys[39]){xPos += 10}; // D    

     if (yPos > Game.height/2 - 20) { yPos = Game.height/2 - 20}
     if (colDown == false || restart == true || (xPos == 0 && yPos > 80 && enemyY > 80)) {yPos += .405}
     if (xPos < 1 && colDown == false) {yPos += .605; enemyY += 5}
     if (level == 0 && colDown == false){yPos += 2}              
               
if (colDown == false || restart == true ||  (xPos == 0 && enemyY > 80)) {enemyY += 8}    


                                     }};
   
                
function wall () {if (xPos < 0){xPos = 0}; if (xPos > Game.width - pWidth){xPos = Game.width - pWidth};  }
                
                
 function box(x, y, width, height, color, levelN) {
     
     ctx.fillStyle = color;
     ctx.fillRect(x, y - yPos, width, height)
     
     

     if (xPos + 10 + pWidth > x && xPos - 10 < x + width && yPos - 10 < y + height && yPos + pHeight + 20 + 10 > y ) {colDown = true} // going up
     else {colDown = false}
     
     //------Col End
     
 }
                
function ebox(x, y, width, height, color, levelN, imageName) { 
   if (levelN == level ) { ctx.fillStyle = color;
     
    if (imageName != undefined){ctx.drawImage(imageA[imageName], x, y - enemyY, width, height) }
    if (imageName == undefined){ctx.fillRect(x, y - enemyY + 50, width, height)}

     if (xPos + 5 + pWidth > x && xPos - 5  < x + width && enemyY  < y  && enemyY +  pHeight  > y ) {restart = true} }
    
    }
                
function reset() {if (restart == true) {yPos = 10; startBox = Game.width;  restart = false; rKey = false,enemyY = 0; death += 1; xPos = Game.width/2}}
               
function text(textS, xText, yText, color, font, levelNumber) {
ctx.fillStyle = color;
ctx.font=font;
if ((level == levelNumber )||( levelNumber == 99)) {ctx.fillText (textS, xText, yText)  }    }
                
    
function levelS() {
    
    if (enemyY > endHeight[level]) {level += 1; restart = true; death -= 1}  }
    
    
function endBox(x, y, width, height, color, levelN, imgR) {  
   if (levelN = level) { ctx.fillStyle = color;
     ctx.drawImage(imageA[imgR], x, y - enemyY + yPos, width, height) 

     if (xPos + 5 + pWidth > x && xPos - 5  < x + width && enemyY  < y  && enemyY +  pHeight  > y ) { } }
    }   

                
                
function men(x, y, width, height, imageName) {      
    ctx.drawImage(imageA[imageName], x, y, width, height) 


}
  
function levelButton(x, y, width, height, levelN, levelSelect, pad) {

if (mouseX>x && mouseX<x+width && mouseY>y && mouseY<y+height) {
if (levelSelect - 1 <= lock) {ctx.fillStyle = "#00ce97";} else {ctx.fillStyle = "#ff6666";ctx.strokeStyle = "#ff6666";}
ctx.fillRect(x,y,width,height);
ctx.fillStyle = "white";
ctx.font = "30px Arial";
ctx.fillText(levelSelect, x + (width/2)-pad, y + (height/2)+10); 

} else {
ctx.strokeStyle = "#00ce97";
ctx.fillStyle = "#00ce97";
ctx.font = "30px Arial";
ctx.fillText(levelSelect, x + (width/2)-pad, y + (height/2)+10);
ctx.rect(x, y, width, height);
ctx.stroke();
};
if ((mouseX>x && mouseX<x+width && mouseY>y && mouseY<y+height) && mouseClick == true ) { if (levelSelect - 1 <= lock) {
level = levelSelect - 1;  mouseClick = false;
};
}; 
};
function imgButton(x, y, width, height, levelN, levelSelect, imgA, imgB, name) {
if (mouseX>x && mouseX<x+width && mouseY>y && mouseY<y+height) {
 ctx.drawImage(imageA[imgB], x, y, width, height)
} else {
 ctx.drawImage(imageA[imgA], x, y, width, height)
};
if ((mouseX>x && mouseX<x+width && mouseY>y && mouseY<y+height) && mouseClick == true) {
level = levelSelect - 1;  mouseClick = false; clickM =name
};
}; 
   function ran(min, max) {
    return Math.floor(Math.random() * (max - min + 1) ) + min;
}             
 function menuF(){  
    
     if (menuV == false) {
     
imgButton(640, 1, 150, 60, 96, 98, 17, 18, "ls")
 if (clickM =="ls") {menuV = true; clickM = ""}
     
     }
     
if (menuV === true){ restart = true
    level = 98
    
    men(Game.width/2 - 160, 5, 330, 90, 13);
    
imgButton(295, 120, 200, 80, 96, 1, 12, 14, "play")

if (clickM =="play") {menuV = false; clickM = ""}
        

 
 imgButton(295, 220, 200, 80, 96, 98, 15, 16, "menu")
 if (clickM =="menu") {menuV = false; clickM = ""}
    }
 
 }               
 function lockF() {
     
     if (endHeight[level] < enemyY) { lock = level   
   
     }
 }           
                
 //----------------------------------------------Function End ----------               
                
                
//windolisteners                
                
                window.addEventListener("keydown", function(event) {
                    keys[event.keyCode] = true;
                    
                }  ) 
                
                window.addEventListener("keyup", function(event) {
                    keys[event.keyCode] = false;
                    
                })
                
                
                
                ctx.canvas.addEventListener('mousemove', function(event){
        mouseX = event.clientX - ctx.canvas.offsetLeft;
        mouseY = event.clientY - ctx.canvas.offsetTop;
        status = mouseX + " , " + mouseY;
    });
    ctx.canvas.addEventListener('click', function(event){
        mouseClick = true
    });

                 //windo listeners end
            
                //----------Update--------------------
     
             function update() {  ctx.clearRect(0,0, Game.width, Game.height);
             
    if (level > 2 && level < 80) {menuV = true}
                
                                    
                                
  // level                                  
endHeight[-1]=0;
endHeight[0]= 300;   
endHeight[1]= 1000;                    
endHeight[2]= 2000;                    
endHeight[3]= 500;                    
endHeight[4]= 500;                    
endHeight[5]= 500;                   
endHeight[6]= 500;  
endHeight[98]= 99999999999;
imageA[0]=document.getElementById("triangle");
imageA[1]=document.getElementById("earth");
imageA[2]=document.getElementById("player");
imageA[3]=document.getElementById("ground");
imageA[4]=document.getElementById("ground2");
imageA[5]=document.getElementById("cloud");
imageA[6]=document.getElementById("1");
imageA[7]=document.getElementById("1");
imageA[8]=document.getElementById("1");
imageA[9]=document.getElementById("1");
imageA[10]=document.getElementById("1");
imageA[11]=document.getElementById("1");
imageA[12]=document.getElementById("play");
imageA[13]=document.getElementById("dropper");
imageA[14]=document.getElementById("play2");
imageA[15]=document.getElementById("sl");
imageA[16]=document.getElementById("sl2");
imageA[17]=document.getElementById("menu");
imageA[18]=document.getElementById("menu2");
imageA[19]=document.getElementById("1");
imageA[10]=document.getElementById("1");
imageA[21]=document.getElementById("1");
if (level == 97) {  
levelButton(100,150,100,50,1,1,10);
levelButton(225,150,100,50,2,2,10);
levelButton(350,150,100,50,3,3,10);
levelButton(475,150,100,50,4,4,10);
levelButton(600,150,100,50,5,5,10);
levelButton(100,225,100,50,6,6,10);
levelButton(225,225,100,50,7,7,10);
                               }
// level end                    

enemyCount[0]= 1;                                
enemyCount[1]= 2;
enemyCount[2]= 8;
enemyCount[3]= 1;
enemyCount[4]= 1;
enemyCount[5]= 1;
enemyCount[6]= 1;
enemyCount[7]= 1;
enemyCount[8]= 1;
enemyCount[9]= 1;
enemyCount[10]= 1;
enemyCount[11]= 1;
enemyCount[12]= 1;
                                
                                
                    
if (restart == true) {yPos = 10; startBox = Game.width};                    
                
    lockF();
    levelS()   
    wall();  
    reset();    
    menuF()    
                  
//-----------neeeded each level
                    
endBox(0, endHeight[level]+120, Game.width, Game.height, "green", 99, 4)
endBox(0, endHeight[level]-30, 900.6, 151.1, "green", 99, 3) //end box
if(level < 90) {box(0, 70, startBox, 10, "black", 99)} ;// start box                    


ebox(600, 300, 64, 64, "blue", 1, 5); 
ebox(Game.width/2, 300, 128, 128, "blue", 1, 5);                               
                                
        // 3333333333333333333333333333 (2)
 if (level == 2) {                               
ebox(600, 300, 64, 64, "blue", 2, 5);                     
ebox(615, 320, 64, 64, "blue", 2, 5);       
ebox(580, 350, 64, 64, "blue", 2, 5);
ebox(120, 310, 64, 64, "blue", 2, 5);   
ebox(610, 396, 64, 64, "blue", 2, 5);
ebox(120, 358, 64, 64, "blue", 2, 5);
ebox(180, 372, 64, 64, "blue", 2, 5);                                
ebox(700, 391, 64, 64, "blue", 2, 5);                                
ebox(430, 1310, 64, 64, "blue", 2, 5);                       
ebox(421, 531, 64, 64, "blue", 2, 5);                     
ebox(21, 123, 64, 64, "blue", 2, 5);       
ebox(142, 654, 64, 64, "blue", 2, 5);
ebox(183, 435, 64, 64, "blue", 2, 5);   
ebox(353, 543, 64, 64, "blue", 2, 5);
ebox(376, 456, 64, 64, "blue", 2, 5);
ebox(687, 352, 64, 64, "blue", 2, 5);                                
ebox(243, 456, 64, 64, "blue", 2, 5);                                
ebox(465, 134, 64, 64, "blue", 2, 5);                       
ebox(615, 657, 64, 64, "blue", 2, 5);       
ebox(580, 769, 64, 64, "blue", 2, 5);
ebox(120, 809, 64, 64, "blue", 2, 5);   
ebox(610, 1870, 64, 64, "blue", 2, 5);
ebox(120, 768, 64, 64, "blue", 2, 5);
ebox(180, 789, 64, 64, "blue", 2, 5);                                
ebox(700, 1857, 64, 64, "blue", 2, 5);                                                 
ebox(21, 984, 64, 64, "blue", 2, 5);                     
ebox(21, 865, 64, 64, "blue", 2, 5);       
ebox(142, 546, 64, 64, "blue", 2, 5);
ebox(183, 875, 64, 64, "blue", 2, 5);   
ebox(353, 486, 64, 64, "blue", 2, 5);
ebox(376, 975, 64, 64, "blue", 2, 5);
ebox(687, 754, 64, 64, "blue", 2, 5);                                
ebox(243, 464, 64, 64, "blue", 2, 5);                                
ebox(65, 456, 64, 64, "blue", 2, 5);     
ebox(120, 809, 64, 64, "blue", 2, 5);   
ebox(610, 870, 64, 64, "blue", 2, 5);
ebox(120, 768, 64, 64, "blue", 2, 5);
ebox(180, 1789, 64, 64, "blue", 2, 5);                                
ebox(700, 1857, 64, 64, "blue", 2, 5);                                
ebox(30, 1567, 64, 64, "blue", 2, 5);                       
ebox(421, 1984, 64, 64, "blue", 2, 5);                     
ebox(421, 1865, 64, 64, "blue", 2, 5);       
ebox(142, 1546, 64, 64, "blue", 2, 5);
ebox(183, 1875, 64, 64, "blue", 2, 5);   
ebox(353, 1486, 64, 64, "blue", 2, 5);
ebox(376, 1975, 64, 64, "blue", 2, 5);
ebox(687, 1754, 64, 64, "blue", 2, 5);                                
ebox(243, 1464, 64, 64, "blue", 2, 5);                                
ebox(465, 1456, 64, 64, "blue", 2, 5); 
ebox(421, 165, 64, 64, "blue", 2, 5);       
ebox(142, 416, 64, 64, "blue", 2, 5);
ebox(183, 875, 64, 64, "blue", 2, 5);   
ebox(153, 486, 64, 64, "blue", 2, 5);
ebox(176, 975, 64, 64, "blue", 2, 5);
ebox(187, 754, 64, 64, "blue", 2, 5);                                
ebox(143, 964, 64, 64, "blue", 2, 5);                                
ebox(165, 956, 64, 64, "blue", 2, 5);     
ebox(120, 1009, 64, 64, "blue", 2, 5);   
ebox(110, 1570, 64, 64, "blue", 2, 5);
ebox(220, 1168, 64, 64, "blue", 2, 5);
ebox(280, 1189, 64, 64, "blue", 2, 5);                                
ebox(200, 8757, 64, 64, "blue", 2, 5);                                
ebox(230, 1167, 64, 64, "blue", 2, 5);                       
ebox(221, 7984, 64, 64, "blue", 2, 5);                     
ebox(221, 8865, 64, 64, "blue", 2, 5);       
ebox(142, 1546, 64, 64, "blue", 2, 5);
ebox(183, 1875, 64, 64, "blue", 2, 5);   
ebox(353, 1486, 64, 64, "blue", 2, 5);
ebox(376, 1975, 64, 64, "blue", 2, 5);
ebox(687, 1754, 64, 64, "blue", 2, 5);                                
ebox(243, 1464, 64, 64, "blue", 2, 5);                                
ebox(465, 1456, 64, 64, "blue", 2, 5); 
 
 
 
 }
        //444444444444444444444444444
                                
                                
                                
                                
//------------------------end                                   
          
                    
       player();
text('Press  "A or ←" to move left and "D or →" to move right.', 160, Game.height -30, "black", "20px Arial", 0)
text('Press "Space bar to start', Game.width/2 - 100, Game.height -10, "black", "20px Arial", 0)
if (level < 90) {text('Level: ' + (level + 1), 10, 40, "#00ce97", "30px Arial", 99)}
// text(enemyCount, Game.width/2 - 130, Game.height -10, "black", "20px Arial", 99)
text('Avoid clouds and get to the ground', Game.width/2 - 170, Game.height -10, "black", "20px Arial", 1)
text('Only 3 levels as of now', Game.width/2 - 130, Game.height -10, "black", "20px Arial", 98)

// text('', 20, Game.height -30, "black", "20px Arial", 0)
              
 mouseClick = false
                               } //----------Update End -----------------                
           
            
            </script>
           
            
           
            
        </body>
        
        
 
    
    
    
    
</html>